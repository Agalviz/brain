(this["webpackJsonpbrain-flix"]=this["webpackJsonpbrain-flix"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},44:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(30),i=a.n(s),r=a(12),o=a(2),l=a(16),d=a(4),j=a(5),u=a(7),m=a(6),h=(a(36),a(37),a.p+"static/media/Icon-search.6b9e4c56.svg"),p=a.p+"static/media/Logo-brainflix.0153380c.svg",b=a(0),v=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("section",{className:"header",children:[Object(b.jsx)(r.b,{to:"/",children:Object(b.jsx)("div",{onClick:e.handleHome,children:Object(b.jsx)("img",{className:"header__logo",src:p,alt:"logo"})})}),Object(b.jsxs)("form",{className:"header__form-1",children:[Object(b.jsx)("input",{className:"header__search",type:"text",name:"name",placeholder:"Search"}),Object(b.jsx)("img",{className:"search-icon",src:h,alt:"icon"})]}),Object(b.jsxs)("div",{className:"header__form",children:[Object(b.jsx)("form",{className:"header__form-button",children:Object(b.jsx)(r.b,{to:"/upload",children:Object(b.jsx)("input",{className:"header__button",type:"submit",value:"+UPLOAD"})})}),Object(b.jsx)("div",{className:"header__avatar"})]})]})})},O=(a(44),a.p+"static/media/Upload-video-preview.313a407c.jpg"),_=a(13),x=a.n(_),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={redirect:!1,title:" ",description:" "},e.setRedirect=function(){e.setState({redirect:!0})},e.renderRedirect=function(){if(e.state.redirect)return Object(b.jsx)(o.a,{to:"/"})},e.handleHome=function(){var t;x.a.get("/api/videos/".concat(null===(t=e.state.allVideos[0])||void 0===t?void 0:t.id)).then((function(t){return e.setState({currentVideo:t.data})})),e.props.history.push("/")},e.handleSubmit=function(t){t.preventDefault(),x.a.post("/api/videos",{title:e.state.title,description:e.state.description}),alert("uploaded"),e.setRedirect()},e.handleTitle=function(t){t.preventDefault(),e.setState({title:t.target.value})},e.handleDescription=function(t){t.preventDefault(),e.setState({description:t.target.value})},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"video-upload",children:[Object(b.jsx)("h1",{className:"form__header",children:"Upload Video:"}),Object(b.jsx)("div",{className:"upload__divider"}),Object(b.jsxs)("form",{className:"upload",onSubmit:this.handleSubmit,children:[Object(b.jsxs)("div",{className:"upload__all",children:[Object(b.jsxs)("div",{className:"upload__video",children:[Object(b.jsx)("label",{className:"upload__label",children:"VIDEO THUMBNAIL "}),Object(b.jsx)("img",{className:"upload__thumb",src:O,alt:"video upload"})]}),Object(b.jsxs)("div",{className:"upload__info",children:[Object(b.jsx)("label",{className:"upload__label upload__label--2",children:"TITLE YOUR VIDEO"}),Object(b.jsx)("input",{onChange:this.handleTitle,className:"upload__title",type:"text",name:"title",value:this.state.title,placeholder:"Add a title to your video"}),Object(b.jsx)("label",{className:"upload__label upload__label--3",children:"ADD A VIDEO DESCRIPTION"}),Object(b.jsx)("textarea",{onChange:this.handleDescription,className:"upload__description",type:"textarea",name:"description",value:this.state.description,placeholder:"Add a description to your video"})]})]}),Object(b.jsx)("div",{className:"upload__divider"}),Object(b.jsxs)("div",{className:"upload__buttons",children:[this.renderRedirect(),Object(b.jsx)("button",{className:"upload__publish",type:"submit",value:"PUBLISH",name:"publish",children:"PUBLISH"}),Object(b.jsx)("input",{className:"upload__cancel",type:"submit",value:"CANCEL",name:"cancel"})]})]})]})})}}]),a}(n.a.Component),N=Object(o.g)(f),g=(a(63),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{className:"video",children:Object(b.jsx)("video",{className:"current-video",controls:"controls",poster:this.props.currentVideo.image})})})}}]),a}(n.a.Component)),V=(a(64),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("section",{className:"comments",children:[Object(b.jsx)("h3",{className:"comments__qty",children:"3 comments"}),Object(b.jsxs)("form",{className:"comments__form",children:[Object(b.jsx)("div",{className:"comments__avatar--form"}),Object(b.jsxs)("div",{className:"comments__form--complete",children:[Object(b.jsx)("label",{className:"comments__header",children:"JOIN THE CONVERSATION"}),Object(b.jsxs)("div",{className:"comments__form--info",children:[Object(b.jsx)("textarea",{className:"comments__text",type:"text",name:"text",placeholder:"Add comment"}),Object(b.jsx)("input",{type:"submit",name:"button",value:"COMMENT",className:"comments__button"})]})]})]}),Object(b.jsx)("section",{className:"comments__all",children:null===(e=this.props.comments)||void 0===e?void 0:e.map((function(e){return Object(b.jsxs)("div",{className:"comments__section",children:[Object(b.jsx)("div",{className:"comments__avatar"}),Object(b.jsxs)("div",{className:"comments__info",children:[Object(b.jsxs)("div",{className:"comments__name",children:[Object(b.jsx)("p",{className:"comments__name--name",children:e.name}),Object(b.jsx)("p",{className:"comments__date",children:new Date(e.timestamp).toLocaleString("en-us",{day:"numeric",month:"numeric",year:"numeric"})})]}),Object(b.jsx)("p",{children:e.comment})]})]})}))})]})})}}]),a}(n.a.Component)),y=(a(65),a.p+"static/media/Icon-views.84be3383.svg"),S=a.p+"static/media/Icon-likes.e870740b.svg",C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e,t,a,c,n,s;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{className:"video",children:Object(b.jsxs)("div",{className:"video__description",children:[Object(b.jsx)("h1",{className:"video__title",children:null===(e=this.props.currentVideo)||void 0===e?void 0:e.title}),Object(b.jsxs)("div",{className:"video__description--info",children:[Object(b.jsxs)("div",{className:"video__description--left",children:[Object(b.jsx)("h3",{className:"video__channel",children:null===(t=this.props.currentVideo)||void 0===t?void 0:t.channel}),Object(b.jsx)("p",{className:"video__time",children:new Date(null===(a=this.props.currentVideo)||void 0===a?void 0:a.timestamp).toLocaleString("en-us",{day:"numeric",month:"numeric",year:"numeric"})})]}),Object(b.jsxs)("div",{className:"video__description--right",children:[Object(b.jsxs)("p",{className:"video__views",children:[Object(b.jsx)("img",{className:"video__icon",alt:"video icon",src:y}),null===(c=this.props.currentVideo)||void 0===c?void 0:c.views]}),Object(b.jsxs)("p",{className:"video__likes",children:[Object(b.jsx)("img",{className:"video__icon",alt:"video icon",src:S}),null===(n=this.props.currentVideo)||void 0===n?void 0:n.likes]})]})]}),Object(b.jsx)("p",{className:"video__desc",children:null===(s=this.props.currentVideo)||void 0===s?void 0:s.description})]})})})}}]),a}(n.a.Component),D=(a(66),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("section",{className:"gallery",children:[Object(b.jsx)("h2",{className:"gallery__header",children:"NEXT VIDEO"}),null===(e=this.props.gallery)||void 0===e?void 0:e.filter((function(e){return e.id!==t.props.heroVideo})).map((function(e){return Object(b.jsx)(r.b,{className:"gallery__links",to:"/videos/".concat(e.id),children:Object(b.jsxs)("div",{className:"gallery__content",onClick:function(){return t.props.setMainVideo(e.id)},children:[Object(b.jsx)("div",{className:"gallery__container--img",children:Object(b.jsx)("img",{className:"gallery__img",src:e.image,alt:"video"})}),Object(b.jsxs)("div",{className:"gallery__text",children:[Object(b.jsx)("h3",{className:"gallery__title",children:e.title}),Object(b.jsx)("p",{className:"gallery__channel",children:e.channel})]})]})},e.id)}))]})})}}]),a}(n.a.Component)),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).url="/api/videos",e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a,c=this;(null===(t=e.currentVideo)||void 0===t?void 0:t.id)!==(null===(a=this.props.currentVideo)||void 0===a?void 0:a.id)&&this.props.match.params.id&&x.a.get("".concat(this.url,"/").concat(this.props.match.params.id)).then((function(e){c.props.handleUpdate(e.data)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e,t;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"container__one",children:Object(b.jsx)(g,{currentVideo:this.props.currentVideo})}),Object(b.jsxs)("div",{className:"container__all",children:[Object(b.jsxs)("div",{className:"container__two",children:[Object(b.jsx)(C,{currentVideo:this.props.currentVideo}),Object(b.jsx)(V,{comments:null===(e=this.props.currentVideo)||void 0===e?void 0:e.comments})]}),Object(b.jsx)("div",{className:"container__gallery",children:Object(b.jsx)(D,{setMainVideo:this.props.setMainVideo,heroVideo:null===(t=this.props.currentVideo)||void 0===t?void 0:t.id,gallery:this.props.allVideos,currentVideo:this.props.currentVideo})})]})]})})})}}]),a}(n.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={currentVideo:{},allVideos:[]},e.url="/api/videos",e.setMainVideo=function(t){var a=e.state.allVideos.find((function(e){return e.id===t}));e.setState({currentVideo:a})},e.handleUpdate=function(t){e.setState({currentVideo:t})},e.handleHome=function(){var t;console.log("hit"),x.a.get("/api/videos/".concat(null===(t=e.state.allVideos[0])||void 0===t?void 0:t.id)).then((function(t){return e.setState({currentVideo:t.data})}))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.get("".concat(this.url,"/1af0jruup5gu")).then((function(t){e.setState({currentVideo:t.data})})),x.a.get("".concat(this.url)).then((function(t){e.setState({allVideos:t.data})}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(v,{handleHome:this.handleHome}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",render:function(t){return Object(b.jsx)(k,Object(l.a)(Object(l.a)({},t),{},{allVideos:e.state.allVideos,currentVideo:e.state.currentVideo,setMainVideo:e.setMainVideo,handleUpdate:e.handleUpdate}))}}),Object(b.jsx)(o.b,{path:"/upload",component:N}),Object(b.jsx)(o.b,{path:"/videos/:id",render:function(t){return Object(b.jsx)(k,Object(l.a)(Object(l.a)({},t),{},{allVideos:e.state.allVideos,currentVideo:e.state.currentVideo,setMainVideo:e.setMainVideo,handleUpdate:e.handleUpdate}))}})]})]})})}}]),a}(n.a.Component),U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(r.a,{children:Object(b.jsx)(o.b,{path:"/",component:I})}),document.getElementById("root")),U()}},[[67,1,2]]]);
//# sourceMappingURL=main.9dbb1485.chunk.js.map